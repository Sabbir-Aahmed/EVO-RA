{% extends "base.html" %} 
{% block home %} 
{% load static %}
<main>
  <section class="py-16 bg-white">
    <div
      class="container mx-auto px-4 flex flex-col md:flex-row items-center gap-8"
    >
      <div class="w-full md:w-1/2">
        <h2 class="text-3xl font-bold text-gray-800 mb-4">Our Story</h2>
        <p class="text-gray-600 leading-relaxed mb-6">
          At Evora, we believe that every event—big or small—has a meaningful
          story to tell. Whether you're planning a corporate meetup, a wedding,
          a community gathering, or a large-scale music festival, our platform
          is designed to help you bring your vision to life seamlessly. From
          planning tools to promotional support, Evora empowers organizers to
          create unforgettable experiences for their guests. With a focus on
          reliability, creativity, and customer satisfaction, we’ve earned the
          trust of thousands of organizers worldwide. Let us help you transform
          your special moments into lasting memories. At Evora, your event’s
          story truly begins—and thrives—with us.
        </p>
      </div>

      <div class="w-full md:w-1/2">
        <img
          src="{% static 'image/img2.jpg' %}"
          alt="Story Image"
          class="rounded-2xl shadow-lg w-full h-auto object-cover"
        />
      </div>
    </div>
  </section>

  <section class="py-16 bg-white">
    <div class="container mx-auto px-4">
      <h2
        class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12"
      >
        Upcoming Events
      </h2>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        {% for event in upcoming_events %}
        <div
          class="bg-gray-100 rounded-xl shadow-md p-6 hover:shadow-xl transition"
        >
          <h3 class="text-xl font-semibold mb-2">{{ event.name }}</h3>
          <img class="mb-2" src="{% static "image/img3.webp" %}" alt="">
          <p class="text-gray-600 mb-3"> <i class="fa fa-calendar "></i> {{ event.date }}</p>
          <p class="text-gray-600 mb-1"> <i class="fa fa-map-marker "></i> {{ event.location }}</p>
          <p class="text-gray-600 mb-1"> <i class="fa fa-users "></i> {{ event.participant_count }} Participants</p>
          <p class="text-sm text-gray-700 mb-4">
            {{ event.description|truncatechars:120 }}
          </p>

          <div class="flex justify-between items-center">
            <a
              href="{% url 'event_detail' event.id %}"
              class="inline-block bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition"
            >
              Details
            </a>
            {% if user.is_authenticated %}
              {% if user in event.participants.all %}
                <form action="{% url 'book_event' event.id %}" method="POST">
                  {% csrf_token %}
                  <button type="submit"
                    class="inline-block bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition">
                    RSVP'ed
                  </button>
                </form>
                {% else %}

                <form action="{% url 'book_event' event.id %}" method="POST">
                  {% csrf_token %}
                  <button type="submit"
                    class="inline-block bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition">
                    RSVP
                  </button>
                </form>
              {% endif %}
              {% else %}
                <a href="{% url 'login' %}" class="text-sm text-blue-600 underline">Login to book</a>
            {% endif %}
          </div>
        </div>
        {% empty %}
        <p class="text-gray-500 italic text-center col-span-full">
          No upcoming events available.
        </p>
        {% endfor %}
      </div>
    </div>
  </section>
</main>
{% endblock home %}
